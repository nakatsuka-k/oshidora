# トップページ 画面設計書

## 画面名

* 画面ID: AXCMS-T-001
* 画面名: トップ
* 目的:
  ログイン後のユーザーに対し、注目動画・最新情報・人気コンテンツ・お気に入りへの導線を提供し、サービスの起点となる画面を構成する。
* 遷移元:
  ログイン完了（ログイン／2段階認証完了後）
* 遷移先:

  * 動画詳細
  * ランキング一覧
  * お気に入り一覧
  * 動画 / キャスト / 検索 / マイページ

---

## 画面概要

* 本画面はログイン後に最初に表示されるトップ画面である。
* ピックアップ動画を中心に、お知らせ、ランキング、お気に入りコンテンツを表示する。
* 下部ナビゲーションから主要機能へ常時遷移可能とする。

---

## 操作概要

* ピックアップ動画は横スワイプにより複数件を切り替え表示できる
* お知らせは最新順で表示され、タップで詳細画面へ遷移する
* ランキング・お気に入りはカード形式で表示され、タップで対象一覧または詳細へ遷移する
* 画面下部のナビゲーションにより、他主要画面へ即時遷移できる

---

## 詳細テーブル

| 部品名称         | 部品の種類  | 型      | 桁数  | IN | OUT | 初期値       | 表示仕様           | エラーNo    | DB情報備考    | テーブル名     | カラム名          |
| :----------- | :----- | :----- | :-- | :- | :-- | :-------- | :------------- | :------- | :-------- | :-------- | :------------ |
| 画面タイトル       | ラベル    | 文字列    | 10  |    | ○   | `トップ`     | 左上に固定表示        |          | 固定文言      |           |               |
| ピックアップ動画     | カルーセル  | オブジェクト | -   |    | ○   | -         | 横スワイプ可能。最大3件表示 | T-001-01 | 表示順は管理側設定 | videos    | video_id      |
| ピックアップ動画画像   | サムネイル  | 画像URL  | -   |    | ○   | -         | 16:9 比率、全幅表示   |          | CDN配信     | videos    | thumbnail_url |
| ピックアップ動画タイトル | テキスト   | 文字列    | 100 |    | ○   | -         | 画像中央に重ねて表示     |          | 表示用       | videos    | title         |
| カルーセルインジケータ  | インジケータ | 数値     | -   |    | ○   | 1         | ドットで現在位置を表示    |          | 表示のみ      |           |               |
| お知らせ見出し      | 見出し    | 文字列    | 10  |    | ○   | `お知らせ`    | セクション先頭        |          | 固定文言      |           |               |
| お知らせ本文       | テキスト   | 文字列    | 300 |    | ○   | -         | 最新1件を抜粋表示      | T-001-02 | タップで詳細遷移  | notices   | body          |
| ランキング見出し     | 見出し    | 文字列    | 10  |    | ○   | `ランキング >` | 右矢印付き          |          | タップ可能     |           |               |
| ランキング動画カード   | カード    | オブジェクト | -   |    | ○   | -         | 横並び2件表示        |          | 再生数順      | videos    | video_id      |
| お気に入り見出し     | 見出し    | 文字列    | 10  |    | ○   | `お気に入り >` | 右矢印付き          |          | タップ可能     |           |               |
| お気に入り動画カード   | カード    | オブジェクト | -   |    | ○   | -         | 横並び3件表示        |          | ユーザー紐付け   | favorites | video_id      |
| 下部ナビ：ホーム     | ナビボタン  | -      | -   | ○  |     | 選択中       | 選択状態表示         |          | 現在画面      |           |               |
| 下部ナビ：動画      | ナビボタン  | -      | -   | ○  |     |           | 未選択            |          | 動画一覧遷移    |           |               |
| 下部ナビ：キャスト    | ナビボタン  | -      | -   | ○  |     |           | 未選択            |          | キャスト一覧遷移  |           |               |
| 下部ナビ：検索      | ナビボタン  | -      | -   | ○  |     |           | 未選択            |          | 検索画面遷移    |           |               |
| 下部ナビ：マイページ   | ナビボタン  | -      | -   | ○  |     |           | 未選択            |          | マイページ遷移   |           |               |

---

## 挙動仕様

* 画面表示時に以下データを取得する

  * ピックアップ動画
  * 最新お知らせ
  * ランキング動画
  * ログインユーザーのお気に入り

* データ取得に失敗した場合

  * 該当セクションのみ非表示、または「読み込みに失敗しました」と表示
  * 他セクションの表示・操作は継続可能とする

* ピックアップ動画・カードタップ時

  * 対象動画の詳細画面へ遷移する

* 下部ナビゲーション

  * 現在表示中の画面は選択状態で表示する
  * タップ時は即時画面遷移を行う

---

## 備考

* ピックアップ動画・ランキングの並び順は管理側で制御可能とする
* お気に入りが存在しない場合はセクション自体を非表示とする
* 今後の拡張として、

  * お知らせ複数件表示
  * レコメンド枠の追加
    などを想定し、セクション単位での表示制御が可能な構成とする
