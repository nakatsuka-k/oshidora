# 管理画面 動画一覧画面 設計書

---

## 画面名

* 画面ID：CMS-VIDEO-LIST-001
* 画面名：動画一覧
* 対象：管理者 / 運営スタッフ
* 種別：Web（管理画面）
* 目的：
  登録されている動画の確認・管理（公開制御、編集、削除、確認）

---

## 画面位置づけ

* 管理画面ダッシュボードから遷移
* 動画管理の起点となる画面

---

## 画面遷移

### 遷移元

* ダッシュボード
* 管理画面 サイドメニュー「動画管理」

### 遷移先

* 動画詳細（管理用）
* 動画編集画面
* 動画新規登録画面
* コメント管理画面（対象動画）

---

## 画面構成（全体）

```
[ ヘッダー ]
 ├ ロゴ
 ├ 管理者名
 └ ログアウト

[ サイドメニュー ]
 ├ ダッシュボード
 ├ 作品管理
 ├ 動画管理（選択中）
 ├ キャスト・スタッフ管理
 ├ コメント管理
 ├ コイン管理
 ├ ユーザー管理
 └ 設定

[ メインコンテンツ ]
 ├ 検索・絞り込みエリア
 ├ 動画一覧テーブル
 └ ページネーション
```

---

## 検索・絞り込みエリア

### 目的

大量の動画から対象を素早く特定する

### 入力項目

| 項目     | 種別   | 内容          |
| ------ | ---- | ----------- |
| 動画タイトル | テキスト | 部分一致検索      |
| 作品名    | セレクト | 紐づく作品       |
| 公開状態   | セレクト | 公開 / 非公開    |
| 字幕     | セレクト | 字幕あり / 字幕なし |
| 動画種別   | セレクト | 本編 / ショート   |
| 登録日    | 日付   | 期間指定        |

### 操作

* 検索ボタン
* リセットボタン

---

## 動画一覧テーブル

### 表示項目

| 列名      | 内容             |
| ------- | -------------- |
| 動画ID    | システムID         |
| サムネイル   | 動画サムネイル        |
| 動画タイトル  | 管理用表示          |
| 作品名     | 紐づく作品          |
| 話数 / 種別 | 第◯話 / ショート     |
| 字幕      | あり / なし        |
| 公開状態    | 公開 / 非公開       |
| 再生回数    | 合計             |
| 評価      | 平均評価           |
| 登録日     | 登録日時           |
| 操作      | 詳細 / 編集 / 公開切替 |

---

## 操作ボタン詳細

### 各行操作

* **詳細**

  * 管理用動画詳細画面へ遷移
* **編集**

  * 動画編集画面へ遷移
* **公開 / 非公開**

  * 即時切り替え
  * 確認ダイアログ表示

### 一括操作（任意）

* 複数選択

  * 一括非公開
  * 一括削除（権限限定）

---

## ページネーション

* 1ページあたり：20件
* 前へ / 次へ
* ページ番号指定

---

## 状態・表示制御

### 公開状態

| 状態  | 表示     |
| --- | ------ |
| 公開  | 通常表示   |
| 非公開 | グレーアウト |

---

## エラーハンドリング

* データ取得失敗
  → 「動画一覧を取得できませんでした」
* 操作失敗（公開切替など）
  → トースト通知でエラー表示

---

## 権限制御

| 操作   | 管理者 | 運営 |
| ---- | --- | -- |
| 一覧閲覧 | ○   | ○  |
| 編集   | ○   | ○  |
| 削除   | ○   | ×  |
| 公開切替 | ○   | ○  |

---

## 非機能要件

* 初期表示：2秒以内
* 検索は非同期通信
* ページング必須

---

## 備考

* 字幕あり／なしは **同一作品として評価・再生数は統合**
* 動画ファイル自体は別ID管理
* Cloudflare Stream動画IDと紐付け管理

---

## 関連画面ID

* CMS-VIDEO-DETAIL-001（動画詳細）
* CMS-VIDEO-EDIT-001（動画編集）
* CMS-VIDEO-CREATE-001（動画新規登録）
* CMS-COMMENT-LIST-001（コメント管理）
