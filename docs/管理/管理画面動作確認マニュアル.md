# 管理画面（oshidra-admin）動作確認マニュアル

**更新日**: 2026年1月17日

このマニュアルは、管理画面の機能を一通り動作確認するためのチェックリスト形式の手順書です。

---

## 📋 目次
1. [起動・環境構築](#起動環境構築)
2. [ログイン情報](#ログイン情報)
3. [デバッグ・開発用機能](#デバッグ開発用機能)
4. [管理画面の構成](#管理画面の構成)
5. [一通り動作確認](#一通り動作確認)
6. [よくある問題・トラブルシューティング](#よくある問題トラブルシューティング)

---

## 起動・環境構築

### 必要な環境
- Node.js 16以上
- npm/yarn
- ローカル環境またはテスト環境への接続可能な環境

### 起動方法

#### Web版（推奨・開発環境向け）

```bash
# リポジトリルートから
npm --prefix apps/admin run web

# または
cd apps/admin
npm run web
```

ブラウザが自動で開き、通常 `http://localhost:19006` で管理画面へのリンクが表示されます。  
Web版へは表示されたURLをクリック、または `http://localhost:19006/web` にアクセスします。

#### ビルド・デプロイ

```bash
# 本番向けExport
npm --prefix apps/admin run export:web

# Cloudflare Pagesへのデプロイ（Kousuke@teqst.co.jp用）
npm --prefix apps/admin run deploy
```

> **注意**: デプロイは `CLOUDFLARE_API_TOKEN` が必要です。詳細は [apps/admin/DEPLOY.md](../../apps/admin/DEPLOY.md) を参照してください。

---

## ログイン情報

### 🔐 MOCK用アカウント（開発・ローカルテスト向け）

デバッグモード有効時、以下の認証情報でMOCKログインが可能です：

| 項目 | 値 |
|------|-----|
| **メールアドレス** | `admin@example.com` |
| **パスワード** | `password` |

**使用方法**:
1. ログイン画面で上記の認証情報を入力
2. デバッグモードで `MOCK` を有効化している場合、実際の認証APIをスキップ

### 👤 テスト管理者アカウント（テスト環境向け）

テスト環境用の本格的なアカウント情報は、チームslack・メール・内部wikiなどで共有されています。  
以下のアカウントを使用してください：

| 項目 | 値 |
|------|-----|
| **メールアドレス** | *(チーム内共有)* |
| **パスワード** | *(チーム内共有)* |
| **API エンドポイント** | `https://api.oshidra.com` （本番）or `https://test-api.oshidra.com` （テスト環境）|

> **※本番環境へのアクセスは厳格に管理されています。必ず権限者に確認の上でのみアクセスしてください。**

---

## デバッグ・開発用機能

### DEV パネルの開き方

#### 方法1: ログイン画面から

1. ログイン画面で、ページ右上の小さい **「DEV」** ボタンをクリック
2. DEV パネルが画面左上に浮遊ウィンドウとして開く
3. ドラッグして好きな場所に移動可能

#### 方法2: キーボードショートカット

*（実装されている場合）* スペースキーやホットキーでDEVパネルを表示・非表示できます。

### DEV パネル内の設定項目

DEV パネルで以下が調整可能です：

| 設定項目 | 説明 | 用途 |
|--------|------|------|
| **ログイン状態** | ON/OFF切替 | セッション状態の素早い切替 |
| **ログイン保持** | ON/OFF切替 | ローカルストレージ保持の有効化 |
| **MOCK** | ON/OFF切替 | MOCK APIを使用（本API呼び出しをスキップ） |
| **管理者メール** | 入力欄 | デバッグ時の管理者メール指定 |
| **API Base Override** | 入力欄 | APIエンドポイントを別URLに変更（ローカル開発時: `http://localhost:8787` など） |
| **Uploader Base Override** | 入力欄 | アップローダーエンドポイントを変更（ローカル開発時: `http://localhost:8788` など） |

#### 典型的な使用例

**ローカル開発環境でのセットアップ:**
```
✓ MOCK: OFF (ローカルAPIに接続)
✓ API Base Override: http://localhost:8787
✓ Uploader Base Override: http://localhost:8788
```

**完全なローカルテスト（APIなし）:**
```
✓ MOCK: ON
✓ ログイン状態: ON
✓ Email: admin@example.com
```

### /dev ページ

`#/dev` または `/dev` で /dev ページに遷移可能（プレースホルダー）。

---

## 管理画面の構成

### 📊 ダッシュボード

**メニュー**: `ダッシュボード`

**確認項目**:
- [ ] 統計情報（総ユーザー数、本日の新規登録、公開中作品数など）が表示される
- [ ] 各統計カードをクリックで関連ページに遷移する
- [ ] 「未承認」アイテムのバッジ数が正確に表示される

---

## 🎬 動画管理

### 配信予定動画一覧

**メニュー**: `動画管理` → `配信予定動画一覧`  
**API**: `GET /cms/videos/scheduled`

**確認項目**:
- [ ] 予定されている動画が一覧で表示される
- [ ] 各動画の配信予定日時が正確に表示される
- [ ] リスト内の動画をクリックで詳細ページへ遷移

### 配信予定動画詳細

**メニュー**: リスト内の動画をクリック

**確認項目**:
- [ ] 予定日時、タイトル、説明などが表示される
- [ ] 配信予定日時の編集が可能
- [ ] 「戻る」で一覧に戻る

### 動画一覧

**メニュー**: `動画管理` → `動画一覧`  
**API**: `GET /cms/videos?{filters}`

**確認項目**:
- [ ] 全動画が一覧表示される
- [ ] 検索フィルター（キーワード、カテゴリ、タグなど）が機能する
- [ ] ソート（新着順、人気順など）が機能する
- [ ] 「アップロード」ボタンで動画アップロード画面へ遷移

### 動画詳細

**メニュー**: 動画一覧内の動画をクリック

**確認項目**:
- [ ] タイトル、説明、カテゴリ、タグ、サムネイルなど全情報が表示される
- [ ] 編集フォームで内容を修正可能
- [ ] サムネイル画像の変更・更新が可能
- [ ] 「推奨動画」設定が表示・編集可能
- [ ] 保存ボタンで変更が反映される
- [ ] 「コメント一覧を見る」でその動画のコメント管理ページへ遷移

### 動画カテゴリ一覧

**メニュー**: `動画管理` → `動画カテゴリ一覧`  
**API**: `GET /cms/categories`

**確認項目**:
- [ ] カテゴリが一覧表示される
- [ ] 各カテゴリをクリックで詳細・編集ページへ遷移

### 動画タグ一覧

**メニュー**: `動画管理` → `動画タグ一覧`  
**API**: `GET /cms/tags`

**確認項目**:
- [ ] タグが一覧表示される
- [ ] 各タグをクリックで編集ページへ遷移
- [ ] 新規タグ追加ボタンで作成ページへ遷移

### 未承認動画一覧

**メニュー**: `動画管理` → `未承認動画一覧`  
**API**: `GET /cms/videos/unapproved`

**確認項目**:
- [ ] 承認待ちの動画が表示される
- [ ] 各動画をクリックで承認・却下画面へ遷移
- [ ] 「承認」ボタンで動画を公開状態に変更
- [ ] 「却下」ボタンで却下理由を入力して拒否

### おすすめ動画・ピックアップ

**メニュー**: `動画管理` → `おすすめ動画` / `ピックアップ`

**確認項目**:
- [ ] おすすめ動画の管理画面が表示される
- [ ] 推奨動画の設定・更新が可能

---

## 📺 作品管理

### 作品一覧

**メニュー**: `作品管理` → `作品一覧`  
**API**: `GET /cms/works`

**確認項目**:
- [ ] 全作品がリスト表示される
- [ ] 各作品をクリックで詳細・編集ページへ遷移
- [ ] 「新規追加」ボタンで作品作成ページへ遷移

### 作品詳細・編集

**メニュー**: 作品一覧内の作品をクリック

**確認項目**:
- [ ] タイトル、説明、著者、配信状態などが表示される
- [ ] 編集フォームで情報を修正可能
- [ ] 関連動画一覧が表示される
- [ ] 保存ボタンで変更を反映

### 作品新規作成

**メニュー**: 作品一覧の「新規追加」ボタン

**確認項目**:
- [ ] 作品タイトルが入力可能
- [ ] 説明文が入力可能
- [ ] 保存ボタンで新規作品が作成される
- [ ] 作品作成後、編集ページへ自動遷移

---

## 💬 コメント管理

### 未承認コメント一覧

**メニュー**: `コメント管理` → `未承認コメント一覧`  
**API**: `GET /cms/comments?status=pending`

**確認項目**:
- [ ] 承認待ちコメントが表示される
- [ ] 各コメントをクリックで承認画面へ遷移
- [ ] コメント内容、投稿者、投稿日時が表示される

### コメント承認・却下

**メニュー**: 未承認コメント一覧内のコメントをクリック

**確認項目**:
- [ ] コメント内容、投稿者情報が詳細表示される
- [ ] 「承認」ボタンでコメントを公開
- [ ] 「却下」ボタンで却下理由を入力して削除

### コメント一覧

**メニュー**: `コメント管理` → `コメント一覧`  
**API**: `GET /cms/comments`

**確認項目**:
- [ ] 全コメントがリスト表示される
- [ ] 動画ID・エピソードで絞込可能
- [ ] 各コメントをクリックで編集ページへ遷移

### コメント編集

**メニュー**: コメント一覧内のコメントをクリック

**確認項目**:
- [ ] コメント内容が編集可能
- [ ] 保存ボタンで変更を反映

---

## 👥 ユーザー管理

### ユーザー一覧

**メニュー**: `ユーザー管理` → `ユーザー一覧`  
**API**: `GET /cms/users`

**確認項目**:
- [ ] 全ユーザーが一覧表示される
- [ ] ユーザー名、メール、登録日などが表示される
- [ ] 各ユーザーをクリックで詳細・編集ページへ遷移
- [ ] 「新規作成」ボタンで新規ユーザー作成ページへ遷移

### ユーザー詳細

**メニュー**: ユーザー一覧内のユーザーをクリック

**確認項目**:
- [ ] ユーザーの基本情報（メール、名前、登録日など）が表示される
- [ ] プロフィール情報が表示・編集可能
- [ ] コイン残高などが表示される
- [ ] 保存ボタンで変更を反映

### ユーザー新規作成

**メニュー**: ユーザー一覧の「新規作成」ボタン

**確認項目**:
- [ ] メール、パスワード、名前などが入力可能
- [ ] バリデーション（メールフォーマット検証など）が機能する
- [ ] 保存ボタンで新規ユーザーが作成される

### 未承認俳優アカウント一覧

**メニュー**: `ユーザー管理` → `未承認俳優アカウント一覧`  
**API**: `GET /cms/cast-profiles/unapproved`

**確認項目**:
- [ ] 審査待ちの俳優プロフィールが表示される
- [ ] 各アカウントをクリックで詳細確認ページへ遷移

---

## 📢 お知らせ管理

### お知らせ一覧

**メニュー**: `お知らせ` → `お知らせ一覧`  
**API**: `GET /cms/notices`

**確認項目**:
- [ ] 全お知らせがリスト表示される
- [ ] タイトル、配信日時が表示される
- [ ] 各お知らせをクリックで詳細・編集ページへ遷移
- [ ] 「新規追加」ボタンで新規お知らせ作成ページへ遷移

### お知らせ詳細・編集

**メニュー**: お知らせ一覧内のお知らせをクリック

**確認項目**:
- [ ] タイトル、本文内容が表示・編集可能
- [ ] 配信日時を設定・変更可能
- [ ] 保存ボタンで変更を反映

### お知らせ新規作成

**メニュー**: お知らせ一覧の「新規追加」ボタン

**確認項目**:
- [ ] タイトルが入力可能
- [ ] 本文が入力可能
- [ ] 配信日時を設定可能
- [ ] 保存ボタンで新規作成

---

## 🏆 ランキング

### 動画ランキング

**メニュー**: `ランキング` → `動画ランキング`  
**API**: `GET /cms/rankings?type=videos`

**確認項目**:
- [ ] 動画ランキング（再生回数順など）が表示される
- [ ] 順位、タイトル、再生数などが表示される

### 獲得コインランキング

**メニュー**: `ランキング` → `獲得コインランキング`

**確認項目**:
- [ ] ユーザーの獲得コインランキングが表示される

### 主演・監督・脚本ランキング

**メニュー**: `ランキング` → `主演ランキング` / `監督ランキング` / `脚本ランキング`

**確認項目**:
- [ ] 各ランキングが正確に表示される

---

## ⚙️ マスタ管理

### カテゴリ管理

**メニュー**: `マスタ管理` → `カテゴリ一覧`  
**API**: `GET /cms/categories`

**確認項目**:
- [ ] 全カテゴリが一覧表示される
- [ ] 各カテゴリをクリックで詳細ページへ遷移
- [ ] 「新規追加」で新規カテゴリ作成可能
- [ ] 編集・削除が可能

### タグ管理

**メニュー**: `マスタ管理` → `タグ一覧`  
**API**: `GET /cms/tags`

**確認項目**:
- [ ] 全タグが一覧表示される
- [ ] 各タグを編集可能
- [ ] 新規タグ追加が可能

### ジャンル管理

**メニュー**: `マスタ管理` → `ジャンル一覧`  
**API**: `GET /cms/genres`

**確認項目**:
- [ ] 全ジャンルが一覧表示される
- [ ] 各ジャンルの編集・削除が可能

### キャストカテゴリ管理

**メニュー**: `マスタ管理` → `キャストカテゴリ一覧`  
**API**: `GET /cms/cast-categories`

**確認項目**:
- [ ] キャストカテゴリが一覧表示される
- [ ] 編集・削除が可能

### コイン設定管理

**メニュー**: `マスタ管理` → `コイン設定一覧`  
**API**: `GET /cms/coin-settings`

**確認項目**:
- [ ] コイン購入パッケージ情報が表示される
- [ ] 各パッケージの価格・コイン数が表示・編集可能
- [ ] 新規パッケージ追加が可能

---

## 👨‍💼 管理者管理

### 管理者一覧

**メニュー**: `管理者` → `管理者一覧`  
**API**: `GET /cms/admins`

**確認項目**:
- [ ] 全管理者がリスト表示される
- [ ] 管理者名、メール、登録日が表示される
- [ ] 各管理者をクリックで詳細・編集ページへ遷移
- [ ] 「新規追加」で新規管理者追加可能

### 管理者詳細・編集

**メニュー**: 管理者一覧内の管理者をクリック

**確認項目**:
- [ ] 管理者の基本情報が表示・編集可能
- [ ] 権限設定が可能
- [ ] 保存ボタンで変更を反映

### 管理者新規作成

**メニュー**: 管理者一覧の「新規追加」ボタン

**確認項目**:
- [ ] メール、パスワード、名前が入力可能
- [ ] 権限を設定可能
- [ ] 保存ボタンで新規管理者を作成

---

## その他機能

### キャスト・スタッフ管理

**メニュー**: `その他` → `キャスト・スタッフ管理`  
**API**: `GET /cms/casts`

**確認項目**:
- [ ] キャスト・スタッフリストが表示される
- [ ] 各キャスト・スタッフをクリックで詳細ページへ遷移
- [ ] 「新規追加」で追加可能

### お問い合わせ一覧

**メニュー**: `その他` → `お問い合わせ一覧`  
**API**: `GET /cms/inquiries`

**確認項目**:
- [ ] ユーザーからのお問い合わせが表示される
- [ ] ステータス（未対応、対応済みなど）が表示される
- [ ] 各お問い合わせをクリックで詳細ページへ遷移

### 設定

**メニュー**: `その他` → `設定`  
**API**: `GET /cms/settings`

**確認項目**:
- [ ] 管理画面の基本設定が表示される
- [ ] メンテナンスモード設定が可能

---

## 一通り動作確認

この章では、実際に管理画面にログインして機能を試す際の標準的な手順を記載します。

### ステップ1: ログイン

**[ ] 1-1** ブラウザで管理画面を開く（ローカル: `http://localhost:19006`）

**[ ] 1-2** ログイン画面が表示される

**[ ] 1-3** 認証情報を入力
- **MOCK環境**: `admin@example.com` / `password`
- **テスト環境**: 別途共有のアカウント

**[ ] 1-4** 「ログイン」ボタンをクリック

**[ ] 1-5** ダッシュボード画面に遷移する

---

### ステップ2: ダッシュボード確認

**[ ] 2-1** 統計情報（ユーザー数、コイン消費など）が表示される

**[ ] 2-2** 「未承認動画」「未承認コメント」などのバッジが表示される

**[ ] 2-3** 統計カードをクリックで関連ページに遷移することを確認

---

### ステップ3: 動画管理機能の確認

#### 3-1: 動画一覧表示

**[ ] 3-1-1** メニューの「動画管理」→「動画一覧」をクリック

**[ ] 3-1-2** 動画リストが表示される

**[ ] 3-1-3** 検索ボックスでキーワード検索を試す

**[ ] 3-1-4** フィルター（カテゴリ、タグなど）で絞込を試す

#### 3-2: 動画詳細表示・編集

**[ ] 3-2-1** リスト内の任意の動画をクリック

**[ ] 3-2-2** 動画詳細画面が表示される

**[ ] 3-2-3** タイトル、説明、カテゴリ、タグなどが表示される

**[ ] 3-2-4** 編集フォームで情報を修正（例: タイトルに「[テスト]」を追加）

**[ ] 3-2-5** 「保存」ボタンをクリック

**[ ] 3-2-6** 変更が反映されたことを確認

**[ ] 3-2-7** 「戻る」で一覧に戻る

#### 3-3: 未承認動画確認

**[ ] 3-3-1** メニューの「動画管理」→「未承認動画一覧」をクリック

**[ ] 3-3-2** 承認待ち動画がある場合はリストに表示

**[ ] 3-3-3** （テストデータがある場合）動画をクリックして承認・却下を試す

---

### ステップ4: 作品管理機能の確認

#### 4-1: 作品一覧表示・新規作成

**[ ] 4-1-1** メニューの「作品管理」→「作品一覧」をクリック

**[ ] 4-1-2** 作品リストが表示される

**[ ] 4-1-3** 「新規追加」ボタンをクリック

**[ ] 4-1-4** 作品作成フォームが表示される

**[ ] 4-1-5** タイトルを入力（例: 「テスト作品 20260117」）

**[ ] 4-1-6** 説明を入力

**[ ] 4-1-7** 「保存」をクリック

**[ ] 4-1-8** 新規作品が作成されたことを確認

#### 4-2: 作品詳細・編集

**[ ] 4-2-1** 作品一覧から作成した作品をクリック

**[ ] 4-2-2** 詳細画面が表示される

**[ ] 4-2-3** タイトルなどを編集

**[ ] 4-2-4** 「保存」で変更を反映

---

### ステップ5: コメント管理機能の確認

#### 5-1: 未承認コメント確認

**[ ] 5-1-1** メニューの「コメント管理」→「未承認コメント一覧」をクリック

**[ ] 5-1-2** 承認待ちコメントがある場合はリストに表示

#### 5-2: コメント一覧・編集

**[ ] 5-2-1** メニューの「コメント管理」→「コメント一覧」をクリック

**[ ] 5-2-2** コメントリストが表示される

**[ ] 5-2-3** 動画IDやエピソードIDで絞込を試す

**[ ] 5-2-4** （テストデータがある場合）コメントをクリックして編集を試す

---

### ステップ6: ユーザー管理機能の確認

#### 6-1: ユーザー一覧表示

**[ ] 6-1-1** メニューの「ユーザー管理」→「ユーザー一覧」をクリック

**[ ] 6-1-2** ユーザーリストが表示される

#### 6-2: ユーザー新規作成

**[ ] 6-2-1** 「新規作成」ボタンをクリック

**[ ] 6-2-2** ユーザー作成フォームが表示される

**[ ] 6-2-3** メール、パスワード、名前を入力

**[ ] 6-2-4** 「保存」をクリック

**[ ] 6-2-5** 新規ユーザーが作成されたことを確認

#### 6-3: ユーザー詳細・編集

**[ ] 6-3-1** ユーザーリストから任意のユーザーをクリック

**[ ] 6-3-2** 詳細画面が表示される

**[ ] 6-3-3** プロフィール情報を編集

**[ ] 6-3-4** 「保存」で変更を反映

---

### ステップ7: お知らせ管理機能の確認

#### 7-1: お知らせ一覧・新規作成

**[ ] 7-1-1** メニューの「お知らせ」→「お知らせ一覧」をクリック

**[ ] 7-1-2** お知らせリストが表示される

**[ ] 7-1-3** 「新規追加」ボタンをクリック

**[ ] 7-1-4** お知らせ作成フォームが表示される

**[ ] 7-1-5** タイトルと本文を入力

**[ ] 7-1-6** 配信日時を設定

**[ ] 7-1-7** 「保存」をクリック

**[ ] 7-1-8** お知らせが作成されたことを確認

---

### ステップ8: マスタ管理機能の確認

#### 8-1: カテゴリ管理

**[ ] 8-1-1** メニューの「マスタ管理」→「カテゴリ一覧」をクリック

**[ ] 8-1-2** カテゴリリストが表示される

**[ ] 8-1-3** カテゴリをクリックして詳細ページへ遷移

**[ ] 8-1-4** （可能な場合）新規カテゴリを追加

#### 8-2: タグ管理

**[ ] 8-2-1** メニューの「マスタ管理」→「タグ一覧」をクリック

**[ ] 8-2-2** タグリストが表示される

**[ ] 8-2-3** タグの編集・追加を試す

#### 8-3: コイン設定

**[ ] 8-3-1** メニューの「マスタ管理」→「コイン設定一覧」をクリック

**[ ] 8-3-2** コイン購入パッケージリストが表示される

**[ ] 8-3-3** パッケージをクリックして詳細・編集を試す

---

### ステップ9: 管理者管理機能の確認

#### 9-1: 管理者一覧

**[ ] 9-1-1** メニューの「管理者」→「管理者一覧」をクリック

**[ ] 9-1-2** 管理者リストが表示される

#### 9-2: 管理者新規作成

**[ ] 9-2-1** 「新規追加」ボタンをクリック

**[ ] 9-2-2** 管理者作成フォームが表示される

**[ ] 9-2-3** メール、パスワード、名前を入力

**[ ] 9-2-4** 権限を設定

**[ ] 9-2-5** 「保存」をクリック

**[ ] 9-2-6** 新規管理者が作成されたことを確認

---

### ステップ10: ランキング機能確認

**[ ] 10-1** メニューの「ランキング」→ 各種ランキング（動画、獲得コイン、主演など）をクリック

**[ ] 10-2** 各ランキングが正確に表示されることを確認

---

### ステップ11: その他機能確認

#### 11-1: キャスト・スタッフ管理

**[ ] 11-1-1** メニューの「その他」→「キャスト・スタッフ管理」をクリック

**[ ] 11-1-2** キャスト・スタッフリストが表示される

#### 11-2: お問い合わせ一覧

**[ ] 11-2-1** メニューの「その他」→「お問い合わせ一覧」をクリック

**[ ] 11-2-2** お問い合わせリストが表示される

**[ ] 11-2-3** お問い合わせをクリックして詳細を確認

#### 11-3: 設定

**[ ] 11-3-1** メニューの「その他」→「設定」をクリック

**[ ] 11-3-2** 管理画面設定が表示される

---

### ステップ12: ログアウト

**[ ] 12-1** 画面右上のユーザー情報をクリック

**[ ] 12-2** 「ログアウト」ボタンをクリック

**[ ] 12-3** ログイン画面に戻ることを確認

---

## よくある問題・トラブルシューティング

### Q1: ログインできない

**症状**: ログインボタンをクリックしても画面が進まない

**チェック項目**:
1. メールアドレスとパスワードが正確か確認
2. MOCK モードを有効にしている場合、正確に `admin@example.com` / `password` を入力
3. APIサーバーが起動しているか確認（MOCK OFF時）
4. ネットワーク接続を確認
5. ブラウザのコンソール（DevTools）でエラーメッセージを確認

**対処法**:
```bash
# ローカルAPIを起動
npm --prefix apps/api run dev

# または MOCK を有効化
DEV パネル → MOCK: ON → 保存
```

---

### Q2: API接続エラーが出る

**症状**: 「通信に失敗しました」というエラーが表示される

**チェック項目**:
1. APIサーバーが起動しているか確認
2. API Base Override が正確な URL か確認（例: `http://localhost:8787`）
3. ファイアウォール/プロキシが通信をブロックしていないか確認

**対処法**:
```bash
# DEV パネルで API Base Override を確認
API Base Override: http://localhost:8787
```

---

### Q3: データが表示されない（リストが空）

**症状**: 動画一覧などが空っぽで表示される

**原因**:
- テスト環境にテストデータがない
- フィルター設定で除外されている
- APIレスポンスが空配列を返している

**対処法**:
1. MOCK モードを有効にしてテストデータを使用
2. フィルター条件をリセット
3. ブラウザコンソールで実際の API レスポンスを確認

---

### Q4: 画像アップロードが失敗する

**症状**: 動画サムネイル等の画像アップロード時にエラー

**チェック項目**:
1. Uploader Base Override が正確か確認
2. ファイルサイズが大きすぎないか確認（推奨: 16:9, 1280×720）
3. ファイル形式が対応しているか確認（PNG, JPG など）

**対処法**:
```bash
# DEV パネルで設定を確認
Uploader Base Override: http://localhost:8788
```

---

### Q5: セッションが切れたと表示される

**症状**: 「セッションが切れました」というエラー

**原因**:
- ローカルストレージのトークンが無効化された
- APIレスポンスが 401 Unauthorized を返した

**対処法**:
1. ページをリロード
2. ブラウザのローカルストレージをクリア
3. ログイン画面から再度ログイン

```javascript
// ブラウザコンソールで実行
localStorage.clear()
```

---

### Q6: DEV パネルが表示されない

**症状**: ログイン画面に DEV ボタンが見当たらない

**原因**:
- DEV モードが無効化されている
- 本番環境で実行している

**対処法**:
```bash
# ローカル環境で起動
npm --prefix apps/admin run web
```

---

### Q7: 404 エラーが表示される

**症状**: メニューをクリックすると「ページが見つかりません」が表示される

**原因**:
- ルーティングが正確に設定されていない
- ハッシュ/パスが正しく変更されていない

**対処法**:
1. ブラウザの URL バーで直接アクセスを試す（例: `http://localhost:19006/#/videos`）
2. サイドバーメニューから再度クリック
3. ブラウザキャッシュをクリア

---

## デバッグ・ログの確認方法

### ブラウザコンソール（DevTools）を開く

```
Windows/Linux: F12 または Ctrl+Shift+I
Mac: Cmd+Option+I または Cmd+Shift+I
```

### ネットワークタブで API 呼び出しを確認

1. DevTools を開く
2. 「Network」タブをクリック
3. 操作を実行
4. API リクエスト/レスポンスを確認

**確認項目**:
- ステータスコード（200: 成功, 401: 認証失敗, 500: サーバーエラー）
- リクエストヘッダー（Authorization: Bearer <token>）
- レスポンス本文（エラーメッセージなど）

---

## 参考資料

- [管理画面DEPLOY.md](../../apps/admin/DEPLOY.md)
- [API 仕様書](../API仕様.md)
- [データベース設計](../DB設計.md)
- [全体機能仕様書](../全体機能仕様書.md)

---

**作成日**: 2026年1月17日  
**最終更新**: 2026年1月17日  
**作成者**: DevOps / QA Team

