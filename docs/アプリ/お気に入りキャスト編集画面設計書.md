# お気に入りキャスト 編集画面 設計書

---

## 画面名

* 画面ID: AXCMS-FAV-C-003
* 画面名: お気に入りキャスト 編集
* 目的:
  お気に入り登録したキャスト／スタッフを一覧で確認し、不要なキャストを削除して整理できるようにする。
* 遷移元（画面遷移図を前提）:

  * マイページ（AXCMS-MY-001）→ お気に入り →（種類選択：キャスト）→ お気に入りキャスト一覧（AXCMS-FAV-C-001）
  * お気に入りキャスト一覧の右上「編集」押下（一覧側に「編集／完了」の概念がある想定） 
* 遷移先:

  * お気に入りキャスト一覧（AXCMS-FAV-C-001）

    * 「完了」で確定して戻る
    * 「戻る（キャンセル）」で破棄して戻る 

---

## 画面概要

* お気に入りキャストを **編集モード** で表示する画面。
* 編集内容は「削除」を中心に扱う。
* 編集モード中は、行タップでキャスト詳細へ遷移せず、選択のオン／オフを行う（誤遷移防止）。
* 複数選択 → 一括削除に対応。

---

## 画面構成

### 1) ヘッダー

* 左：戻る（キャンセル扱い）
* 中央：`お気に入りキャスト 編集`
* 右：`完了`

---

### 2) キャスト一覧（編集モード）

* 縦スクロールリスト
* 各行の構成

**キャストカード構成**

* チェックボックス（選択状態）
* プロフィール画像（丸）
* 氏名
* 補足情報

  * ジャンル（俳優/女優/脚本/演出 etc） 
  * 所属（制作会社・フリーランス）※表示する場合 

---

### 3) 下部操作エリア（固定）

* 選択数表示：`選択中：◯件`
* `選択を解除`
* `削除`

---

## 操作概要

* 行タップで選択／解除
* `削除` で選択したキャストをお気に入りから削除
* `完了` で編集内容を確定し一覧へ戻る
* `戻る` で変更を破棄して一覧へ戻る（確認あり）

---

## 詳細テーブル

| 部品名称         | 部品の種類    | 型    | IN | OUT | 初期値          | 表示仕様              | DB情報備考  |
| ------------ | -------- | ---- | -- | --- | ------------ | ----------------- | ------- |
| 画面タイトル       | ラベル      | 文字列  |    | ○   | お気に入りキャスト 編集 | ヘッダー中央            | 固定文言    |
| 戻る           | ボタン      | -    | ○  |     |              | 破棄して戻る            | 変更ありは確認 |
| 完了           | ボタン      | -    | ○  |     |              | 確定して戻る            |         |
| お気に入りキャストリスト | リスト      | -    |    | ○   | -            | 縦スクロール            |         |
| 選択チェック       | チェックボックス | bool | ○  |     | false        | 行左                | UI状態    |
| プロフィール画像     | 画像       | URL  |    | ○   | -            | 円形                | 表示用     |
| 氏名           | テキスト     | 文字列  |    | ○   | -            | 2行省略              | 表示用     |
| ジャンル         | バッジ/テキスト | 文字列  |    | ○   | -            | 例：俳優              | 表示用     |
| 所属           | テキスト     | 文字列  |    | ○   | -            | 任意表示              | 表示用     |
| 選択数表示        | ラベル      | 数値   |    | ○   | 0            | `選択中：◯件`          | UI制御    |
| 選択解除         | ボタン      | -    | ○  |     |              | 全解除               |         |
| 削除           | ボタン      | -    | ○  |     | 非活性          | 選択>0で活性           | 一括削除    |
| 空状態          | テキスト     | 文字列  |    | ○   | 非表示          | `お気に入りキャストがありません` | 0件時     |

---

## 挙動仕様

### 初期表示

* お気に入りキャスト一覧を取得して表示
* すべて未選択で開始
* 編集モード中は、キャスト詳細（キャスト詳細/プロフィール）への遷移を無効化

  * 通常は「お気に入りキャスト一覧 → キャスト詳細」の導線があるため 

---

### 選択操作

* 行タップで選択／解除を切り替える
* 選択数を下部にリアルタイム反映
* 選択が1件以上の時のみ `削除` を活性化

---

### 削除（複数）

1. `削除` 押下
2. 確認ダイアログ

   * `選択した◯件をお気に入りから削除しますか？`
3. OKで削除実行
4. 成功時

   * リストから即時除去
   * 選択数表示更新
5. 失敗時

   * エラーメッセージ表示
   * 選択状態は保持

---

### 完了

* `完了` 押下で編集結果を確定
* お気に入りキャスト一覧へ戻る

---

### キャンセル（戻る）

* 変更がある場合は確認

  * `変更を破棄して戻りますか？`
* 破棄してお気に入りキャスト一覧へ戻る

---

### 空状態

* 0件の場合

  * `お気に入りキャストがありません` を表示
  * 下部操作エリアは非表示
  * 必要なら「キャストを探す」導線（キャスト検索へ）を置く

---

## API/データ仕様（画面連携レベル）

* お気に入りキャスト一覧取得

  * `GET /api/favorites/casts`

* お気に入りキャスト削除（複数対応）

  * `DELETE /api/favorites/casts`

  ```json
  {
    "castIds": ["c_001", "c_002"]
  }
  ```

---

## 備考

* キャスト側のジャンル表記（俳優/女優/脚本/演出 etc）はプロフィール要素として記載があるため、編集一覧にも軽く出すと判別しやすい。 
* 並び替え（ドラッグ）は要件外。追加する場合は「並び順保存」仕様が必要。
* 「編集／完了」の概念はマイページ周辺に複数存在するため、表示位置（ヘッダー右）を統一すると迷いが減る。 
