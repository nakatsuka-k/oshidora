# お気に入り動画 編集画面 設計書

---

## 画面名

* 画面ID: AXCMS-FAV-V-003
* 画面名: お気に入り動画 編集
* 目的:
  ユーザーがお気に入り登録した動画を一覧で確認し、不要な動画を削除して整理できるようにする。
* 遷移元:

  * マイページ（AXCMS-MY-001）

    * お気に入り →（種類選択：動画）→ お気に入り動画一覧（AXCMS-FAV-V-001）
    * 一覧右上「編集」押下
* 遷移先:

  * お気に入り動画一覧（AXCMS-FAV-V-001）

    * 編集完了／キャンセル後に戻る

---

## 画面概要

* お気に入り動画を **編集モード** で表示する画面。
* 編集内容は「削除」のみを対象とする。
* 編集中は動画詳細への遷移は行わず、行タップ＝選択操作とする。
* 複数動画を選択して一括削除が可能。

---

## 画面構成

### 1) ヘッダー

* 左：戻る（キャンセル扱い）
* 中央：画面タイトル

  * `お気に入り動画 編集`
* 右：`完了`

---

### 2) 動画一覧（編集モード）

* 縦スクロールリスト
* 各行は以下で構成

**動画カード構成**

* チェックボックス（選択状態）
* 動画サムネイル（16:9）
* 動画タイトル
* 補足情報

  * 再生時間
  * 評価数（★＋件数）

---

### 3) 下部操作エリア（固定）

* 選択件数表示

  * `選択中：◯件`
* `選択を解除`
* `削除`

---

## 操作概要

* 動画行をタップ

  * 選択／選択解除を切り替え
* 複数選択が可能
* 「削除」で選択した動画をお気に入りから削除
* 「完了」で編集内容を確定して一覧へ戻る
* 「戻る」で編集を破棄して一覧へ戻る（確認あり）

---

## 詳細テーブル

| 部品名称       | 部品の種類    | 型    | IN | OUT | 初期値        | 表示仕様            | DB情報備考   |
| ---------- | -------- | ---- | -- | --- | ---------- | --------------- | -------- |
| 画面タイトル     | ラベル      | 文字列  |    | ○   | お気に入り動画 編集 | ヘッダー中央          | 固定文言     |
| 戻る         | ボタン      | -    | ○  |     |            | 編集破棄            | 確認あり     |
| 完了         | ボタン      | -    | ○  |     |            | 編集確定            |          |
| お気に入り動画リスト | リスト      | -    |    | ○   | -          | 縦スクロール          | 最大件数制限なし |
| 選択チェック     | チェックボックス | bool | ○  |     | false      | 行左              | UI状態     |
| 動画サムネイル    | 画像       | URL  |    | ○   | -          | 16:9            | 表示用      |
| 動画タイトル     | テキスト     | 文字列  |    | ○   | -          | 2行省略            | 表示用      |
| 再生時間       | テキスト     | 文字列  |    | ○   | -          | mm:ss           | 表示用      |
| 評価数        | テキスト     | 数値   |    | ○   | -          | ★4.2（120）       | 集計値      |
| 選択数表示      | ラベル      | 数値   |    | ○   | 0          | `選択中：◯件`        | UI制御     |
| 選択解除       | ボタン      | -    | ○  |     |            | 全解除             |          |
| 削除         | ボタン      | -    | ○  |     | 非活性        | 選択>0で活性         | 一括削除     |
| 空状態        | テキスト     | 文字列  |    | ○   | 非表示        | `お気に入り動画がありません` | 対象0件     |

---

## 挙動仕様

### 初期表示

* お気に入り動画一覧を取得
* すべて未選択状態で表示
* 動画詳細への遷移は無効化される

---

### 選択操作

* 行タップで選択／解除
* 選択件数を下部にリアルタイム反映
* 1件以上選択時のみ「削除」ボタンを活性化

---

### 削除操作

1. 「削除」押下
2. 確認ダイアログ表示

   * `選択した◯件の動画をお気に入りから削除しますか？`
3. OKで削除API実行
4. 成功時

   * リストから即時除去
   * 選択状態をリセット

---

### 完了

* 「完了」押下
* 編集結果を確定
* お気に入り動画一覧（AXCMS-FAV-V-001）へ戻る

---

### キャンセル（戻る）

* 編集内容がある場合は確認

  * `変更を破棄して戻りますか？`
* 破棄して一覧画面へ戻る

---

### 空状態

* 対象が0件の場合

  * 空状態文言を表示
  * 下部操作エリアは非表示

---

## API/データ仕様（画面連携レベル）

* お気に入り動画一覧取得

  * `GET /api/favorites/videos`

* お気に入り動画削除（複数対応）

  * `DELETE /api/favorites/videos`

  ```json
  {
    "videoIds": ["v_001", "v_002"]
  }
  ```

---

## 備考

* 編集画面では

  * 動画再生
  * 動画詳細遷移
    は行えない（誤操作防止）
* 並び順変更（ドラッグ操作）は要件外
* 遷移図上の

  * 「お気に入り動画一覧 → 動画詳細」
    導線は **編集モードでは無効** とする 
