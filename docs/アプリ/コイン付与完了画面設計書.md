# コイン付与完了画面 設計書

---

## 画面名

* 画面ID：APP-COIN-GRANT-COMPLETE-001
* 画面名：コイン付与完了
* 目的：
  コイン付与が正常に完了したことを明確に伝え、ユーザーに安心感を与える。
* 遷移元：

  * コイン購入画面（AXCMS-COIN-001）

    * Stripe決済完了後
  * コイン付与画面（APP-COIN-GRANT-001）
* 遷移先：

  * マイページ（APP-MYP-001）
  * 動画購入画面（付与前に遷移していた場合）

---

## 画面概要

* コイン付与処理完了を通知する**完了専用画面**
* 編集・入力要素は持たず、確認と次行動の導線のみを提供
* 誤操作防止のため戻る操作は行わせない構成

---

## 画面構成

### ヘッダー

* 中央：`コイン付与完了`
* 戻るボタン：非表示

---

## セクション①：完了メッセージ

* 完了アイコン（チェックマークなど）
* メッセージ文言例

  * `コインの付与が完了しました`
  * `ご利用ありがとうございます`

---

## セクション②：付与内容サマリー

### 表示項目

* **付与コイン数**

  * 表示例：

    * `＋500コイン`

* **付与内容**

  * 表示例：

    * コイン購入
    * キャンペーン付与
    * 運営対応による付与

* **付与日時**

  * 年/月/日 時:分

---

## セクション③：現在のコイン残高

* 強調表示

  * `現在のコイン残高：3,250コイン`

---

## 操作エリア

### 表示ボタン

1. **動画を購入する**

   * 表示条件

     * 動画購入画面経由でコイン購入を行った場合
   * 押下時

     * 元の動画購入画面へ遷移

2. **マイページへ戻る**

   * 常時表示
   * 押下時

     * マイページへ遷移

---

## 操作フロー

### Stripe決済経由

1. Stripe決済完了
2. サーバー側でコイン付与処理
3. 本画面を表示

---

### 管理側付与・キャンペーン

1. 管理側でコイン付与
2. ユーザー操作 or 遷移により本画面を表示

   * またはマイページ遷移時に表示

---

## 挙動仕様

* 本画面表示時点で

  * コイン残高は最新状態に更新済み
* 画面再表示・リロードでは

  * 追加付与は行われない
* 戻る操作（端末バック）は無効化、もしくはマイページへ遷移

---

## 表示・保存データ

* ユーザーID
* 付与コイン数
* 付与理由
* 付与日時
* 付与後コイン残高

---

## 備考

* 決済エラー・付与失敗時は本画面を表示しない

  * 別途「コイン付与失敗画面」で対応
* 将来的に

  * コイン履歴一覧
  * 購入明細表示
    への導線追加が可能
* 課金完了画面はユーザーの不安が出やすいため、
  表示文言はシンプルかつ断定的な表現を使用する
