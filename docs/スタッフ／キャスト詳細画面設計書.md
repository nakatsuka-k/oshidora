# キャスト詳細（スタッフ／キャストプロフィール詳細）画面設計書

---

## 画面名

* 画面ID: AXCMS-ST-001
* 画面名: スタッフキャスト プロフィール詳細
* 目的:
  キャスト／スタッフのプロフィール情報、評価、推し数（お気に入り数）、関連作品をまとめて表示し、評価・コイン付与・SNS共有などのアクションへつなげる。
* 遷移元:（添付の画面遷移図を前提）

  * キャスト／スタッフ検索結果（AXCMS-CS-001）
  * 動画詳細内「出演キャスト・スタッフ一覧」（動画再生・詳細の導線）から遷移 
  * お気に入りキャスト一覧（マイページ配下）から遷移 
* 遷移先:

  * スタッフキャスト評価（AXCMS-CR-001）
  * コイン付与（AXCMS-GIFT-001）→ 確認 → 完了 
  * 関連作品（動画詳細 AXCMS-V-002）
  * SNS共有（OS共有シート） 

---

## 画面概要

* キャスト／スタッフの基本情報（氏名・所属・ジャンル・経歴・代表作・SNSリンク・自己PR）を表示する。 
* 推し数（お気に入り数＝フォロワー）を表示する。 
* 関連作品（出演・参加作品）を横スクロールで表示する（5〜6件想定）。 
* 評価（星5）と評価コメントの閲覧／投稿導線を提供する。 
* コイン付与は「キャスト／スタッフに対してのみ」行う（作品への付与は想定しない）。 

---

## 画面キャプチャ / ワイヤー

![wireframe](../画面設計書/images/AXCMS-ST-001.png)

---

## 操作概要

* お気に入り（推し）登録／解除
* 星評価＋コメント投稿（評価画面へ遷移）
* コイン付与（付与画面へ遷移）
* SNS共有（OS共有）
* 関連作品をタップして動画詳細へ遷移

---

## 仕様追記（SNSシェア／アクセス制御）

* SNS共有

  * OS共有から配布するURLはブラウザ表示の軽量ページとする（工数を抑える）
  * 共有時にサムネイルが出るよう、共有先ページにOGメタ（`og:image` 等）を **明示的に設定** する
  * 動画サムネイル画像の公開は問題なし（キャスト写真の扱いは要確認のため、PH1は動画サムネ優先でも可）
* アクセス制御

  * 動画はログアウトでも閲覧可能
  * キャスト/スタッフ詳細はログイン必須

---

## UI構成

### ヘッダー

* 戻る（前画面へ）
* 共有ボタン（OS共有） 

### プロフィールヘッダー

* プロフィール画像
* 氏名 
* 公式マーク（付与する場合） 
* ジャンル（俳優/女優/脚本/演出など） 
* 所属（制作会社・フリーランス） 
* 推し数（お気に入り数） 

### アクションエリア

* お気に入り（推し）登録/解除
* 評価する（AXCMS-CR-001へ）
* コインを贈る（AXCMS-GIFT-001へ） 

### 評価・コメント（閲覧）

* 平均評価（小数点1位）＋評価件数

  * ※作品評価のルールは「作品単位」の記載がある一方、キャスト評価は「出演キャスト・スタッフに対する評価・コメント」想定のため、キャスト側は「人物単位」で集計する前提（運用で確定） 
* 最新の評価コメントの一部を表示（例：3件）
* 「もっと見る」（後続で一覧画面/モーダルを作るならここから遷移）

### プロフィール詳細

* 経歴 
* 代表作 
* 自己PR文 
* SNSリンク（X/Instagram等） 

### 関連作品

* 横スクロール（5〜6件想定） 
* 作品カード要素

  * サムネイル / タイトル / 役割（任意）
* タップで動画詳細（AXCMS-V-002）へ遷移

---

## 詳細テーブル

| 部品名称         | 部品の種類   | 型      | 桁数   | IN | OUT | 初期値      | 表示仕様               | DB情報備考       | テーブル名          | カラム名              |
| :----------- | :------ | :----- | :--- | :- | :-- | :------- | :----------------- | :----------- | :------------- | :---------------- |
| 画面タイトル       | ラベル     | 文字列    | 20   |    | ○   | `プロフィール` | 上部固定               | 固定文言         |                |                   |
| 戻る           | ボタン     | -      | -    | ○  |     |          | 前画面へ戻る             |              |                |                   |
| 共有           | ボタン     | -      | -    | ○  |     |          | OS共有を起動            | 共有文言/URL生成   |                |                   |
| プロフィール画像     | 画像      | URL    | -    |    | ○   | -        | 円形                 | 表示用          | casts          | profile_image_url |
| 氏名           | テキスト    | 文字列    | 50   |    | ○   | -        | 1行                 | 表示用          | casts          | name              |
| 公式マーク        | アイコン    | bool   | 1    |    | ○   | false    | trueで表示            | 表示用          | casts          | is_official       |
| 所属           | テキスト    | 文字列    | 50   |    | ○   | -        | 1行                 | 表示用          | casts          | affiliation       |
| ジャンル         | バッジ     | 文字列    | 30   |    | ○   | -        | 例: 俳優/脚本           | 表示用          | casts          | genre             |
| 推し数          | ラベル     | 数値     | -    |    | ○   | 0        | お気に入り数             | 集計           | cast_favorites | count             |
| お気に入り        | トグル/ボタン | bool   | 1    | ○  |     | false    | 登録/解除              | user×cast    | cast_favorites | is_favorite       |
| 評価する         | ボタン     | -      | -    | ○  |     |          | AXCMS-CR-001へ遷移    | 遷移のみ         |                |                   |
| コインを贈る       | ボタン     | -      | -    | ○  |     |          | AXCMS-GIFT-001へ遷移  | 作品への付与はしない   |                |                   |
| 平均評価         | ラベル     | 数値     | -    |    | ○   | -        | 小数点1位              | 集計           | cast_reviews   | avg               |
| 評価件数         | ラベル     | 数値     | -    |    | ○   | 0        | `◯件`               | 集計           | cast_reviews   | count             |
| 評価コメント一覧（抜粋） | リスト     | 文字列    | -    |    | ○   | -        | 最新N件               | 表示用          | cast_reviews   | comment           |
| 経歴           | テキスト    | 文字列    | 2000 |    | ○   | -        | 複数行                | 表示用          | casts          | biography         |
| 代表作          | テキスト    | 文字列    | 500  |    | ○   | -        | 箇条書き               | 表示用          | casts          | works_text        |
| SNSリンク       | リンク     | URL    | -    | ○  |     | -        | 外部へ                | 表示用          | casts          | sns_links         |
| 関連作品         | 横スクロール  | オブジェクト | -    |    | ○   | -        | 5〜6件想定             | cast×content | cast_contents  | content_id        |

---

## 挙動仕様

### 初期表示

* cast_id を受け取り、プロフィール情報を取得する。
* 推し数（お気に入り数）、平均評価・評価件数、関連作品を同時に取得する。 

### お気に入り（推し）登録

* 押下で登録/解除を切り替える
* 反映後、推し数を更新表示

### 評価

* 「評価する」押下 → 評価画面へ
* 戻ってきたら平均評価・件数・コメント抜粋を再取得して更新

### コイン付与

* 「コインを贈る」押下 → コイン付与画面へ
* 付与対象はキャスト/スタッフのみ（作品は対象外） 
* 完了後に「推し活履歴（過去の付与履歴）」を表示する構成も可能 

### 関連作品

* 作品カード押下で動画詳細へ遷移
* 横スクロールで閲覧（見やすさを考慮し5〜6件） 

### 共有

* OS共有（X/LINE/Instagram/リンクコピー等）を起動 
* 共有に画像（サムネ・キャスト写真）を含める場合は追加検討が必要 

---

## 備考

* 「キャスト詳細」画面自体は機能一覧にも存在し、マイページのお気に入り導線から到達する想定。 
* ディープリンクで「キャスト等へ飛ばす」検討項目があるため、将来は `app://cast/{castId}` のような形式を前提にしてよい。 

